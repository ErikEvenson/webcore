# example

This app was generated by eeegen.

## Developing

Make sure you have the following installed on your development box:

- [heroku toolbelt](https://toolbelt.heroku.com/) - 'Everything you need to get started using heroku.'
- [mongoDB](http://www.mongodb.org/) 2.6.7 - 'The only database that harnesses the innovations of NoSQL (flexibility, scalability, performance) and builds on the foundation of relational databases (expressive query language, secondary indexes, strong consistency).'
- [node](http://nodejs.org/) 0.10.33 - 'Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications.'

You will also need the following node modules installed globally:

- [gulp](http://gulpjs.com/) 3.8.10 - 'The streaming build system.'
- [npm](https://npmjs.org/doc/) 2.5.0 - 'node package manager'

If you are cloning this project rather than creating it from scratch the first time, be sure to install dependencies with:

```bash
  npm install
```

To run the app on a development server:

```bash
  gulp
```

You should be able to see the app at [https://localhost:3000](https://localhost:3000).  Changes in the source are watched for and are reflected in the refreshed browser.

To clean and then build the app into the `build` directory:

```bash
  gulp clean && gulp build
```

To run the built app on a development server:

```bash
  cd build && npm start
```

To deploy the built app to Heroku:

Enter secret credentials into `config/env.js` starting from the `config/env.sample.js` template.

To setup the app for the first time:

```bash
  gulp heroku-setup
```

This will create a tarball in the `temp` directory, upload it to a temporary location on AWS, and have Heroku use it to provision the app.  TBD -- allow choice of app name.  The app will be available at [https://appName.herokuapp.com](https://appName.herokuapp.com) after a short delay.

To deploy an already provisioned and re-built app with changes:

```bash
  gulp heroku-deploy --app appName
```

To ease deployment of an already provisioned and re-build app, add the app name as an instance to `config/build.js` and deploy with:

```bash
  gulp heroku-deploy --instance staging
```

## Gulp commands

General build commands are documented inline in [config/build.js!](config/build.js).

- gulp (default)
- gulp build
- gulp buildClient
- gulp buildServer
- gulp clean
- gulp cssServer
- gulp htmlServer
- gulp jadeServer
- gulp jsClient
- gulp jsServer
- gulp misc
- gulp watch

### AWS management

- gulp aws-s3-bucketsList
- gulp aws-s3-createBucket --name <bucketName>
- gulp aws-s3-objectsList --name <bucketName>

### Heroku management

These commands aid the creation and deployment of the app on Heroku.

- heroku-addonsCreate

- heroku-appsInfo

- heroku-appsList

- gulp heroku-appSetupsInfo --id <appSetupId>

Provides information about the app setup.

- gulp heroku-buildsResultInfo --app <appName> --id <buildId> --instance <instanceName>

Provides information about the build results.  Either an instance name or an app name should be provided.  The instance name takes precedence if both are provided.

- heroku-configVarsInfo

- heroku-deploy

- heroku-setup

- gulp heroku-tarball

Creates a tarball (`.tar.gz`) of the built app in the build directory.

### Lint management

- gulp gjslint
- gulp jshint
- gulp lint

### Server management

- gulp server:restart
- gulp server:start
